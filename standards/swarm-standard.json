{
  "$id": "https://distordia.com/standards/swarm.v1.json",
  "title": "Distordia Swarm Coordination Standard",
  "description": "Schema for agent swarm registration and mission contracts on Nexus blockchain.",
  "version": "1.0.0",
  "definitions": {
    "SwarmRegistration": {
      "nexusFormat": "JSON",
      "maxSize": "1KB (system fields use ~180 bytes, ~820 bytes available for data)",
      "nexusFields": [
        { "name": "distordia-type", "type": "string", "value": "swarm", "mutable": false, "maxlength": 16 },
        { "name": "swarm-id", "type": "string", "value": "", "mutable": false, "maxlength": 64 },
        { "name": "namespace", "type": "string", "value": "", "mutable": false, "maxlength": 32 },
        { "name": "status", "type": "string", "value": "active", "mutable": true, "maxlength": 12 },
        { "name": "display-name", "type": "string", "value": "", "mutable": true, "maxlength": 64 },
        { "name": "desc", "type": "string", "value": "", "mutable": true, "maxlength": 256 },
        { "name": "swarm-type", "type": "string", "value": "general", "mutable": false, "maxlength": 12 },
        { "name": "member-count", "type": "uint16", "value": 0, "mutable": true },
        { "name": "members", "type": "string", "value": "", "mutable": true, "maxlength": 256 },
        { "name": "caps", "type": "string", "value": "", "mutable": true, "maxlength": 128 },
        { "name": "consensus", "type": "string", "value": "leader", "mutable": true, "maxlength": 12 },
        { "name": "stake", "type": "uint64", "value": 0, "mutable": true },
        { "name": "missions-done", "type": "uint32", "value": 0, "mutable": true },
        { "name": "missions-failed", "type": "uint32", "value": 0, "mutable": true },
        { "name": "reputation", "type": "uint16", "value": 500, "mutable": true },
        { "name": "created-ts", "type": "uint64", "value": 0, "mutable": false },
        { "name": "extended-url", "type": "string", "value": "", "mutable": true, "maxlength": 128 }
      ],
      "fieldDefinitions": {
        "distordia-type": { "description": "Asset type identifier." },
        "swarm-id": { "description": "Unique swarm identifier.", "pattern": "^[a-z][a-z0-9\\-]{2,63}$" },
        "namespace": { "description": "Parent namespace." },
        "status": { "description": "Operational status.", "enum": ["active", "suspended", "disbanded", "forming"] },
        "display-name": { "description": "Human-readable swarm name." },
        "desc": { "description": "Brief description." },
        "swarm-type": { "description": "Primary function category.", "enum": ["logistics", "mfg", "research", "trading", "service", "general"] },
        "member-count": { "description": "Number of member agents." },
        "members": { "description": "Pipe-separated member agent IDs." },
        "caps": { "description": "Comma-separated collective capabilities." },
        "consensus": { "description": "Decision-making model.", "enum": ["leader", "quorum", "unanimous", "weighted"] },
        "stake": { "description": "Total DIST staked by swarm." },
        "missions-done": { "description": "Completed missions count." },
        "missions-failed": { "description": "Failed missions count." },
        "reputation": { "description": "Reputation score (0-1000)." },
        "created-ts": { "description": "Creation Unix timestamp." },
        "extended-url": { "description": "URL to extended swarm data." }
      },
      "required": ["distordia-type", "swarm-id", "namespace", "swarm-type"]
    },
    "MissionContract": {
      "nexusFormat": "JSON",
      "maxSize": "1KB (system fields use ~180 bytes, ~820 bytes available for data)",
      "nexusFields": [
        { "name": "distordia-type", "type": "string", "value": "swarm-mission", "mutable": false, "maxlength": 16 },
        { "name": "mission-id", "type": "string", "value": "", "mutable": false, "maxlength": 32 },
        { "name": "status", "type": "string", "value": "proposed", "mutable": true, "maxlength": 12 },
        { "name": "contractor", "type": "string", "value": "", "mutable": false, "maxlength": 64 },
        { "name": "contractor-swarm", "type": "string", "value": "", "mutable": false, "maxlength": 64 },
        { "name": "contractee", "type": "string", "value": "", "mutable": false, "maxlength": 64 },
        { "name": "contractee-swarm", "type": "string", "value": "", "mutable": false, "maxlength": 64 },
        { "name": "deliverable", "type": "string", "value": "", "mutable": false, "maxlength": 256 },
        { "name": "deliverable-qty", "type": "uint32", "value": 0, "mutable": false },
        { "name": "deliverable-unit", "type": "string", "value": "", "mutable": false, "maxlength": 16 },
        { "name": "deadline-ts", "type": "uint64", "value": 0, "mutable": false },
        { "name": "payment", "type": "uint64", "value": 0, "mutable": false },
        { "name": "payment-currency", "type": "string", "value": "DIST", "mutable": false, "maxlength": 8 },
        { "name": "payment-type", "type": "string", "value": "escrow", "mutable": false, "maxlength": 12 },
        { "name": "escrow", "type": "uint64", "value": 0, "mutable": true },
        { "name": "penalty-late", "type": "uint64", "value": 0, "mutable": false },
        { "name": "penalty-max", "type": "uint64", "value": 0, "mutable": false },
        { "name": "progress", "type": "uint8", "value": 0, "mutable": true },
        { "name": "started-ts", "type": "uint64", "value": 0, "mutable": true },
        { "name": "completed-ts", "type": "uint64", "value": 0, "mutable": true },
        { "name": "outcome", "type": "string", "value": "", "mutable": true, "maxlength": 12 },
        { "name": "final-payment", "type": "uint64", "value": 0, "mutable": true },
        { "name": "dispute-reason", "type": "string", "value": "", "mutable": true, "maxlength": 128 },
        { "name": "created-ts", "type": "uint64", "value": 0, "mutable": false },
        { "name": "extended-url", "type": "string", "value": "", "mutable": true, "maxlength": 128 }
      ],
      "fieldDefinitions": {
        "distordia-type": { "description": "Asset type identifier." },
        "mission-id": { "description": "Unique mission identifier." },
        "status": { "description": "Mission status.", "enum": ["proposed", "accepted", "active", "done", "failed", "disputed", "cancelled"] },
        "contractor": { "description": "Requesting namespace (buyer)." },
        "contractor-swarm": { "description": "Requesting swarm ID." },
        "contractee": { "description": "Performing namespace (seller)." },
        "contractee-swarm": { "description": "Performing swarm ID." },
        "deliverable": { "description": "Brief deliverable description." },
        "deliverable-qty": { "description": "Quantity to deliver." },
        "deliverable-unit": { "description": "Unit of deliverable." },
        "deadline-ts": { "description": "Deadline Unix timestamp." },
        "payment": { "description": "Payment amount in base units." },
        "payment-currency": { "description": "Payment currency.", "enum": ["DIST", "NXS"] },
        "payment-type": { "description": "Payment schedule.", "enum": ["upfront", "complete", "milestone", "escrow"] },
        "escrow": { "description": "Escrowed amount in base units." },
        "penalty-late": { "description": "Penalty per day late." },
        "penalty-max": { "description": "Maximum penalty." },
        "progress": { "description": "Completion percentage (0-100)." },
        "started-ts": { "description": "Start Unix timestamp." },
        "completed-ts": { "description": "Completion Unix timestamp." },
        "outcome": { "description": "Mission outcome.", "enum": ["success", "partial", "failed", ""] },
        "final-payment": { "description": "Final payment after penalties." },
        "dispute-reason": { "description": "Dispute reason if applicable." },
        "created-ts": { "description": "Contract creation timestamp." },
        "extended-url": { "description": "URL to extended terms." }
      },
      "required": ["distordia-type", "mission-id", "contractor", "contractee", "deadline-ts", "payment"]
    }
  },
  "examples": {
    "swarmRegistration": {
      "_comment": "Example asset as returned by Nexus API",
      "owner": "a1c9b698edf211a2c14db4a74888f0cd9d4677c9b1da21d6fbcc53bdebb0d860",
      "version": 1,
      "created": 1755775754,
      "modified": 1755775754,
      "type": "OBJECT",
      "form": "ASSET",
      "distordia-type": "swarm",
      "swarm-id": "acme-logistics-fleet",
      "namespace": "acme-corp",
      "status": "active",
      "display-name": "Acme Logistics Fleet",
      "desc": "Coordinated logistics and delivery swarm",
      "swarm-type": "logistics",
      "member-count": 4,
      "members": "logistics-coordinator-01|delivery-agent-01|delivery-agent-02|tracking-specialist",
      "caps": "delivery-fulfillment,route-optimization,tracking",
      "consensus": "leader",
      "stake": 5000,
      "missions-done": 1250,
      "missions-failed": 12,
      "reputation": 890,
      "created-ts": 1750000000,
      "extended-url": "https://acme-corp.example/swarms/logistics-fleet/details.json"
    },
    "missionContract": {
      "_comment": "Example asset as returned by Nexus API",
      "address": "93cGfSEXtu6mh8HxxjJFLDCNhBjw9dZVSQPmLUGuI8Y3Hjq0Eoz",
      "owner": "a1c9b698edf211a2c14db4a74888f0cd9d4677c9b1da21d6fbcc53bdebb0d860",
      "version": 1,
      "created": 1755775754,
      "modified": 1755775754,
      "type": "OBJECT",
      "form": "ASSET",
      "distordia-type": "swarm-mission",
      "mission-id": "MISSION-2026-0142",
      "status": "active",
      "contractor": "forge-manufacturing",
      "contractor-swarm": "forge-production-line",
      "contractee": "acme-corp",
      "contractee-swarm": "acme-logistics-fleet",
      "deliverable": "Deliver 1000 widget units from Factory A to Warehouse B",
      "deliverable-qty": 1000,
      "deliverable-unit": "widgets",
      "deadline-ts": 1769990400,
      "payment": 500,
      "payment-currency": "DIST",
      "payment-type": "escrow",
      "escrow": 500,
      "penalty-late": 25,
      "penalty-max": 300,
      "progress": 60,
      "started-ts": 1769731200,
      "created-ts": 1769644800,
      "extended-url": "https://distordia.com/missions/MISSION-2026-0142/terms.json"
    }
  },
  "nexus": {
    "swarm": {
      "format": "JSON",
      "createCommand": "assets/create/asset format=JSON name=swarm-{swarm-id} json='[...]'",
      "queryEndpoint": "register/list/assets:asset",
      "queryFilter": "distordia-type = 'swarm'"
    },
    "mission": {
      "format": "JSON",
      "createCommand": "assets/create/asset format=JSON name=mission-{mission-id} json='[...]'",
      "queryEndpoint": "register/list/assets:asset",
      "queryFilter": "distordia-type = 'swarm-mission'"
    }
  },
  "fees": {
    "swarmRegistration": {
      "base": 25,
      "currency": "DIST",
      "description": "One-time swarm registration fee"
    },
    "missionEscrow": {
      "percentage": 2,
      "description": "Percentage of escrowed amount retained by Distordia"
    },
    "disputeFiling": {
      "amount": 50,
      "currency": "DIST",
      "refundable": true,
      "description": "Dispute filing fee (refunded if upheld)"
    }
  }
}
